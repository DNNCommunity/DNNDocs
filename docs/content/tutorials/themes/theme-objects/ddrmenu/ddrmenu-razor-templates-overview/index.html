<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>DDRMenu Razor Templates Overview  -- DNN Docs</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="DDRMenu Razor Templates Overview  -- DNN Docs">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../../styles/dnndocs.css">
  	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="preconnect" href="https://ZPKP9SED9P-dsn.algolia.net" crossorigin="">
  	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha">
    <meta property="docfx:navrel" content="../../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../../toc.html">
    <meta property="og:title" content="DDRMenu Razor Templates Overview -- DNN Docs">
    <meta property="og:image" content="../../../../../../images/dnn_docs_logo.png">
    <meta property="og:description" content="DDRMenu Razor Templates Overview -- DNN Docs">
    <meta property="og:url" content="https://docs.dnncommunity.org/content/tutorials/themes/theme-objects/ddrmenu/ddrmenu-razor-templates-overview/index.html">
  
  
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137422488-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-137422488-1');
    </script>  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../../images/dnn_docs_logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <div class="navbar-right">
                <div id="docsearch-navbar" class="navbar-form navbar-right"></div>
              </div>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container">
            <div class="hide-when-search pull-left" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
            <div class="pull-right">
              <ul class="nav nav-pills">
                <li role="presentation dropdown">
                  <a class="dropdown-toggle" id="shareMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <i class="glyphicon glyphicon-share"></i> Share
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="shareMenu">
                    <li><a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.html&amp;text=DDRMenu%20Razor%20Templates%20Overview%20%7C%20DNN%20Docs%20%7C%20%23DNNCMS&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.html" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.html" target="_blank"><i class="fab fa-linkedin-in"></i> LinkedIn</a></li>
                    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.html" target="_blank"><i class="fab fa-facebook-square"></i> Facebook</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="mailto:?subject=[Shared%20Article]%20DDRMenu%20Razor%20Templates%20Overview%20|%20DNN%20Docs&amp;body=DDRMenu%20Razor%20Templates%20Overview%20|%20DNN%20Docs%0A%0Ahttps%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.html%0A%0A"><i class="fas fa-envelope"></i> Email</a></li>
                  </ul>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/issues/new?title=Feedback for DDRMenu Razor Templates Overview&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Document%20Details%0A%0A%E2%9A%A0%20*Do%20not%20edit%20this%20section.%20It%20is%20required%20for%20docs.dnncommunity.org%20%E2%9E%9F%20Core%20Team%20processing.*%0A%0A*%20Content%20Source%3A%20%5Bddrmenu-razor-templates-overview%5D(https%3A%2F%2Fgithub.com%2FDNNCommunity%2FDNNDocs%2Fblob%2Fmain%2Fcontent%2Ftutorials%2Fthemes%2Ftheme-objects%2Fddrmenu%2Fddrmenu-razor-templates-overview%2Findex.md%2F%23L1)" target="_blank"><i class="glyphicon glyphicon-comment"></i> Feedback</a>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/blob/main/content/tutorials/themes/theme-objects/ddrmenu/ddrmenu-razor-templates-overview/index.md/#L1" target="_blank"><i class="glyphicon glyphicon-new-window"></i> Improve this Doc</a>
                </li>
              </ul>
            </div>
          </div>
        </div>      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="ddrmenu-razor-templates-overview">
<h1 id="ddrmenu-razor-template-engine">DDRMenu Razor Template Engine</h1>
<div class="page-version">
    DNN Version: <span class="dnn-version">09.02.00</span>
    
</div>
<div class="page-stats row visible-xs">
    <div class="pull-left"> &bull; 4 minutes  to read</div>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <span class="pull-left">&nbsp;&bull; 4 minutes  to read</span>
</div>

<p>This page describes how the DDRMenu Razor template processor works. Razor-based templates provide most power, including access to the DNN API. Starting with DNN 7.0, support is built in in the platform, but requires DDRMenu 2.0.3 or newer to work properly. This is due to a breaking change in DNN 7, which is <a href="http://www.dnnsoftware.com/Resources/Blogs/EntryId/3619/ContentItemId/150607/DDRMenu-Razor-Templates-in-DotNetNuke-7-x.aspx">explained in this blog post</a>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>In older versions of DNN, DDRMenu Razor templates are only supported with ASP.NET 4.0 with the Razor Host module installed.</p>
</div>
<h2 id="data-model">Data Model</h2>
<p>Razor templates receive the following members in the Razor model:</p>
<ul>
<li><code>Source.root</code> - The root menu node. You can see the exact structure of MenuNode in the DDRMenu source code, but in summary the following properties are available:
<ul>
<li><code>TabId</code> - The page ID</li>
<li><code>Text</code> - The page name (i.e. what should normally be displayed in the menu)</li>
<li><code>Title</code> - The full page title</li>
<li><code>Url</code> - The page URL</li>
<li><code>Target</code> - The target for for the page (e.g. _blank, Open in New)</li>
<li><code>Enabled</code> - Whether the page is enabled</li>
<li><code>Selected</code> - Whether the page is selected</li>
<li><code>Breadcrumb</code> - Whether the page is in the current breadcrumb</li>
<li><code>Separator</code> - Whether the node is a separator</li>
<li><code>Icon</code> - The URL of the page icon</li>
<li><code>LargeImage</code> - The URL of the large page icon (DNN 6 only)</li>
<li><code>First</code> - Whether the page is the first in its level</li>
<li><code>Last</code> - Whether the page is the last in its level</li>
<li><code>Depth</code> - The depth of the current page in the menu structure (starting at 0)</li>
<li><code>Keywords</code> - The keywords defined for the current page</li>
<li><code>Description</code> - The description of the current page</li>
<li><code>CommandName</code> - The action command name (action menus only)</li>
<li><code>CommandArgument</code> - The action command argument (action menus only)</li>
<li><code>Children</code> - The child nodes of this node</li>
<li><code>Parent</code> - The parent node of this node</li>
</ul>
</li>
<li><code>ControlID</code> - The ASP.NET control ID of the current DDRMenu instance</li>
<li><code>Options</code> - The client options (in JSON format)</li>
<li><code>DNNPath</code> - The path of the DNN application root</li>
<li><code>ManifestPath</code> - The path of the menu template's manifest folder</li>
<li><code>PortalPath</code> - The path to the current portal root</li>
<li><code>SkinPath</code> - The path to the current theme</li>
</ul>
<h2 id="example">Example</h2>
<p>A simple example (using a .cshtml C# template) might look like this (this is the DNN 7.x + syntax):</p>
<pre><code class="lang-csharp">@using DotNetNuke.Web.DDRMenu;
@using System.Dynamic; 
@inherits DotNetNuke.Web.Razor.DotNetNukeWebPage&lt;dynamic&gt;
@{ var root = Model.Source.root; }
@helper RenderNodes(IList&lt;MenuNode&gt; nodes) {
  if (nodes.Count &gt; 0) {
    &lt;ul&gt;
      @foreach (var node in nodes) {
        var cssClasses = new List&lt;string&gt;();
        
        if (node.First) { cssClasses.Add(&quot;first&quot;); }
        
        if (node.Last) { cssClasses.Add(&quot;last&quot;); }
        
        if (node.Selected) { cssClasses.Add(&quot;selected&quot;); }
        
        var classString = new HtmlString((cssClasses.Count == 0) ? &quot;&quot; : (&quot; class=\&quot;&quot; + String.Join(&quot; &quot;, cssClasses.ToArray()) + &quot;\&quot;&quot;));
        
        &lt;li @classString&gt;
          @if (node.Enabled) {
            &lt;a href=&quot;@node.Url&quot;&gt;@node.Text&lt;/a&gt;
          } else {
            @node.Text
          }
          @RenderNodes(node.Children)
        &lt;/li&gt;
      }
    &lt;/ul&gt;
  }
}
@RenderNodes(root.Children)
</code></pre>
<h3 id="related-content">Related Content</h3>
<ul>
<li><a class="xref" href="../index.html">DDRMenu Overview</a></li>
<li><a class="xref" href="../ddrmenu-reference-guide/index.html">DDRMenu Reference Guide</a></li>
<li><a class="xref" href="../ddrmenu-token-templates/index.html">DDRMenu Token Templates</a></li>
<li><a class="xref" href="../ddrmenu-xslt-templates/index.html">DDRMenu XSLT Templates</a></li>
</ul>
<h3 id="additional-links">Additional Links</h3>
<ul>
<li><a href="http://www.dnnsoftware.com/Resources/Blogs/EntryId/3619/ContentItemId/150607/DDRMenu-Razor-Templates-in-DotNetNuke-7-x.aspx">DDRMenu Razor Templates in DotNetNuke 7.x</a></li>
<li><a href="http://www.dnnsoftware.com/Resources/Blogs/EntryId/3446/Advanced-Menu-Design-with-DDRMenu.aspx">Advanced Menu Design with DDRMenu</a></li>
<li><a href="http://www.aubrett.com/InformationTechnology/WebDevelopment/CMSPlatforms/DotNetNuke/RazorTemplatedDDRMenu.aspx">A Razor Templated DDRMenu for DotNetNuke 6</a></li>
</ul>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>by the community, for the community... <strong>#DNNCMS</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../../styles/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script type="text/javascript">
    	document.dnndocs = {
    		algolia: function(selector) {
    			return {
    				container: selector,
    				appId: 'ZPKP9SED9P',
    				indexName: 'dnnsoftware',
    				apiKey: '37bfc247275fb9e8fcecbda599134a30',
    			}	
    		}
    	};	
    	docsearch(document.dnndocs.algolia('#docsearch-navbar'));  
    </script>
  </body>
</html>
