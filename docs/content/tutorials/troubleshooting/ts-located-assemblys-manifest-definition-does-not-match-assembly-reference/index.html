<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Troubleshooting: The located assembly's manifest definition does not match the assembly reference  -- DNN Docs</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Troubleshooting: The located assembly's manifest definition does not match the assembly reference  -- DNN Docs">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
  	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="og:title" content="Troubleshooting: The located assembly's manifest definition does not match the assembly reference -- DNN Docs">
    <meta property="og:image" content="../../../../images/dnn_docs_logo.png">
    <meta property="og:description" content="Troubleshooting: The located assembly's manifest definition does not match the assembly reference -- DNN Docs">
    <meta property="og:url" content="https://docs.dnncommunity.org/content/tutorials/troubleshooting/ts-located-assemblys-manifest-definition-does-not-match-assembly-reference/index.html">
    
    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137422488-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-137422488-1');
    </script></head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../images/dnn_docs_logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="docs-search">
                <div class="form-group">
                  <input type="text" class="form-control docs-search" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container">
            <div class="hide-when-search pull-left" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
            <div class="pull-right">
              <ul class="nav nav-pills">
                <li role="presentation dropdown">
                  <a class="dropdown-toggle" id="shareMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <i class="glyphicon glyphicon-share"></i> Share
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="shareMenu">
                    <li><a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.html&amp;text=Troubleshooting%3A%20The%20located%20assembly's%20manifest%20definition%20does%20not%20match%20the%20assembly%20reference%20%7C%20DNN%20Docs%20%7C%20%23DNNCMS&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.html" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.html" target="_blank"><i class="fab fa-linkedin-in"></i> LinkedIn</a></li>
                    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.html" target="_blank"><i class="fab fa-facebook-square"></i> Facebook</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="mailto:?subject=[Shared%20Article]%20Troubleshooting%3A%20The%20located%20assembly's%20manifest%20definition%20does%20not%20match%20the%20assembly%20reference%20|%20DNN%20Docs&amp;body=Troubleshooting%3A%20The%20located%20assembly's%20manifest%20definition%20does%20not%20match%20the%20assembly%20reference%20|%20DNN%20Docs%0A%0Ahttps%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.html%0A%0A"><i class="fas fa-envelope"></i> Email</a></li>
                  </ul>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/issues/new?title=Feedback for Troubleshooting: The located assembly's manifest definition does not match the assembly reference&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Document%20Details%0A%0A%E2%9A%A0%20*Do%20not%20edit%20this%20section.%20It%20is%20required%20for%20docs.dnncommunity.org%20%E2%9E%9F%20Core%20Team%20processing.*%0A%0A*%20Content%20Source%3A%20%5Bts-located-assemblys-manifest-definition-does-not-match-assembly-reference%5D(https%3A%2F%2Fgithub.com%2FDNNCommunity%2FDNNDocs%2Fblob%2Fmain%2Fcontent%2Ftutorials%2Ftroubleshooting%2Fts-located-assemblys-manifest-definition-does-not-match-assembly-reference%2Findex.md%2F%23L1)" target="_blank"><i class="glyphicon glyphicon-comment"></i> Feedback</a>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/blob/main/content/tutorials/troubleshooting/ts-located-assemblys-manifest-definition-does-not-match-assembly-reference/index.md/#L1" target="_blank"><i class="glyphicon glyphicon-new-window"></i> Improve this Doc</a>
                </li>
              </ul>
            </div>
          </div>
        </div>      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="ts-located-assemblys-manifest-definition-does-not-match-assembly-reference">
<h1 id="troubleshooting-the-located-assemblys-manifest-definition-does-not-match-the-assembly-reference">Troubleshooting: The located assembly's manifest definition does not match the assembly reference</h1>
<div class="page-version">
    DNN Version: <span class="dnn-version">04.00.00</span>
    
</div>
<div class="page-stats row visible-xs">
    <div class="pull-left">9/14/2021 &bull; 4 minutes  to read</div>
    <div class="pull-left">Contributors&nbsp;
        <a href="https://github.com/bdukes" target="_blank">
            <img class="img-circle" src="https://avatars.githubusercontent.com/u/59507?v=4" alt="bdukes">
        </a>
    </div>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <span class="pull-left">9/14/2021</span>
    <span class="pull-left">&nbsp;&bull; 4 minutes  to read</span>
    <span class="pull-left">&nbsp;&bull;&nbsp;Contributors&nbsp;
        <a href="https://github.com/bdukes" target="_blank">
            <img class="img-circle" src="https://avatars.githubusercontent.com/u/59507?v=4" alt="bdukes">
        </a>
    </span>
</div>

<h2 id="symptom">Symptom</h2>
<p>This error can be displayed as a full page error that does not allow the site to load, or it can be logged in the Admin Logs.</p>
<p><img src="/images/scr-binding-redirect-ysod.png" alt="Full screen error"></p>
<p><img src="/images/scr-binding-redirect-admin-logs.png" alt="Admin Logs error"></p>
<h2 id="possible-cause">Possible Cause</h2>
<p>The site's <code>web.config</code> file (which can be accessed either via the file system or <a class="xref" href="../../sites/configuring-your-site/access-web-config/index.html">through the Config Manager in the Persona Bar</a>) includes a number of <code>bindingRedirect</code> entries like this:</p><p>
<pre><code class="lang-xml">&lt;dependentAssembly xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot;&gt;
  &lt;assemblyIdentity name=&quot;Newtonsoft.Json&quot; publicKeyToken=&quot;30ad4fe6b2a6aeed&quot; /&gt;
  &lt;bindingRedirect oldVersion=&quot;0.0.0.0-32767.32767.32767.32767&quot; newVersion=&quot;12.0.0.0&quot; /&gt;
&lt;/dependentAssembly&gt;
</code></pre>
<p>What this is saying is that the assembly (DLL file, compiled code) with the given identity (name is <code>Newtonsoft.Json</code>, signed with the public key <code>30ad4fe6b2a6aeed</code>) is valid for use when any version is requested (i.e. in the range from version <code>0.0.0.0</code> to version <code>32767.32767.32767.32767</code>) and should use the version <code>12.0.0.0</code>. This <code>newVersion</code> value typically needs to match the version of the DLL file in the <code>bin</code> folder.</p>
<h2 id="solutions">Solutions</h2>
<div class="IMPORTANT">
<h5>Important</h5>
<p>All of these solutions involve editing the <code>web.config</code> file. Doing so could have a negative impact on the performance of your website.  The saved file will trigger the website to restart, which will clear the memory caches. This could result in the website appearing to load slowly and even throwing errors temporarily in some instances.  It's suggested to only update the <code>web.config</code> file during non-peak hours on mission-critical websites.</p>
</div>
<h3 id="introduce-a-missing-bindingredirect-entry">Introduce a missing <code>bindingRedirect</code> entry</h3>
<p>If multiple components (e.g. modules, providers, or other extensions) in your site are using different versions of the same strong-named assembly, there will need to be a binding redirect to allow them all to use the version in the <code>bin</code> folder. If the <a class="xref" href="../../extensions/dnn-manifest-schema/index.html">extensions' manifest</a> uses an assembly component, the DNN installer will automatically add and update these binding redirects. If there is not an existing redirect for the assembly in the error message, add one. For the <code>newVersion</code> you need to use the .NET version, which often does not match the file version. One option for finding this version is to open the DLL file in a decompiler (such as <a href="https://www.jetbrains.com/decompiler/">dotPeek</a>) and look for <code>AssemblyVersion</code>. You can also use PowerShell to read this information, using a command like this (substituting your site's path):</p>
<pre><code class="lang-pwsh">[System.Reflection.AssemblyName]::GetAssemblyName('C:\inetpub\wwwroot\mysite.com\bin\Newtonsoft.Json.dll').Version.ToString()
</code></pre>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Using an incorrect version for the <code>newVersion</code> attribute of the <code>bindingRedirect</code> may cause your site not to load (see the full page error above).</p>
</div>
<h3 id="expand-oldversion-range-for-binding-redirect">Expand <code>oldVersion</code> range for binding redirect</h3>
<p>If there is an existing <code>bindingRedirect</code>, then it isn't covering the conflict which is causing the error. The most common reason for this is that the version range in the <code>oldVersion</code> attribute doesn't cover all conflicting versions. Updating <code>oldVersion</code> to use a wide range (e.g. <code>0.0.0.0-32767.32767.32767.32767</code>) will typically resolve this.</p>
<h3 id="synchronize-versions-of-dll-files-and-bindingredirect-entries">Synchronize versions of <code>.dll</code> files and <code>bindingRedirect</code> entries</h3>
<p>If the site has a full page error, a relatively quick way to resolve any mismatches it to use the <a href="https://www.powershellgallery.com/packages/BindingRedirects">BindingRedirects PowerShell module</a> which has a command to synchronize the binding redirects in the <code>web.config</code> with the files in the <code>bin</code> (though it won't add new binding redirects). To use that, run <code>Install-Module -Name BindingRedirects</code> (see <a href="https://docs.microsoft.com/en-us/powershell/scripting/gallery/installing-psget">the getting started docs</a> if <code>Install-Module</code> isn't available on your system). Once the PowerShell module is installed, call <code>Sync-BindingRedirect 'C:\inetpub\wwwroot\mysite.com\web.config'</code> (using the site's actual path) to update any incorrect binding redirects.</p>
<div class="related-topics" hidden=""><span><a href="/content/tutorials/troubleshooting/ts-missing-persona-bar/index.html">Troubleshooting: Missing Persona Bar</a></span></div></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>by the community, for the community... <strong>#DNNCMS</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
    	document.dnndocs = {
    		algolia: function(selector) {
    			return {
    				apiKey: '28b61113e36d4775658a3e6eec04e94f',
    				indexName: 'dnnsoftware',
    				inputSelector: selector,
    				algoliaOptions: { 'facetFilters': [["tags:api","tags:docs"]] },
    				debug: false // Set debug to true if you want to inspect the dropdown
    			}	
    		}
    	};	
    	docsearch(document.dnndocs.algolia('input.docs-search'));  
    </script>
  </body>
</html>
