<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Image Handler  -- DNN Docs</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Image Handler  -- DNN Docs">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
  	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="og:title" content="Image Handler -- DNN Docs">
    <meta property="og:image" content="../../../../images/dnn_docs_logo.png">
    <meta property="og:description" content="Image Handler -- DNN Docs">
    <meta property="og:url" content="https://docs.dnncommunity.org/content/tutorials/developers/image-handler/index.html">
    
    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137422488-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-137422488-1');
    </script></head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../images/dnn_docs_logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="docs-search">
                <div class="form-group">
                  <input type="text" class="form-control docs-search" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container">
            <div class="hide-when-search pull-left" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
            <div class="pull-right">
              <ul class="nav nav-pills">
                <li role="presentation dropdown">
                  <a class="dropdown-toggle" id="shareMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <i class="glyphicon glyphicon-share"></i> Share
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="shareMenu">
                    <li><a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.html&amp;text=Image%20Handler%20%7C%20DNN%20Docs%20%7C%20%23DNNCMS&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.html" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.html" target="_blank"><i class="fab fa-linkedin-in"></i> LinkedIn</a></li>
                    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.html" target="_blank"><i class="fab fa-facebook-square"></i> Facebook</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="mailto:?subject=[Shared%20Article]%20Image%20Handler%20|%20DNN%20Docs&amp;body=Image%20Handler%20|%20DNN%20Docs%0A%0Ahttps%3A%2F%2Fdocs.dnncommunity.org%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.html%0A%0A"><i class="fas fa-envelope"></i> Email</a></li>
                  </ul>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/issues/new?title=Feedback for Image Handler&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Document%20Details%0A%0A%E2%9A%A0%20*Do%20not%20edit%20this%20section.%20It%20is%20required%20for%20docs.dnncommunity.org%20%E2%9E%9F%20Core%20Team%20processing.*%0A%0A*%20Content%20Source%3A%20%5Bimage-handler%5D(https%3A%2F%2Fgithub.com%2FDNNCommunity%2FDNNDocs%2Fblob%2Fmain%2Fcontent%2Ftutorials%2Fdevelopers%2Fimage-handler%2Findex.md%2F%23L1)" target="_blank"><i class="glyphicon glyphicon-comment"></i> Feedback</a>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/blob/main/content/tutorials/developers/image-handler/index.md/#L1" target="_blank"><i class="glyphicon glyphicon-new-window"></i> Improve this Doc</a>
                </li>
              </ul>
            </div>
          </div>
        </div>      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="image-handler">
<h1 id="image-handler">Image Handler</h1>
<div class="page-version">
    DNN Version: <span class="dnn-version">08.00.00</span>
    
</div>
<div class="page-stats row visible-xs">
    <div class="pull-left"> &bull; 6 minutes  to read</div>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <span class="pull-left">&nbsp;&bull; 6 minutes  to read</span>
</div>

<p>Out of the box, DNN includes an endpoint which can retrieve, transform, and serve images from your DNN site.  This feature can be used by developers within their modules, designers within their themes, and content creators in their content.</p>
<h2 id="modes">Modes</h2>
<p>The image handler can find, create, and serve many types of images, so it first needs to know the <strong>mode</strong> in which it is operating.</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/DnnImageHandler.ashx?mode=profilepic&amp;userid=330894</code></td>
<td>Display the profile picture of a user</td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=file&amp;file=/Images/Logo.jpg</code></td>
<td>Display an image from a path</td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=file&amp;url=https://placebear.com/200/100</code></td>
<td>Display an image from an external URL</td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=securefile&amp;fileid=317624</code></td>
<td>Display an image from a file ID</td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=100</code></td>
<td>Generate and display a placeholder image</td>
</tr>
</tbody>
</table>
<p>Additionally, it is possible to extend the image handler with <a href="#custom-modes">custom modes</a>.</p>
<h3 id="profile-mode">Profile Mode</h3>
<p>When using <code>mode=profilepic</code>, the picture from a user's profile is retrieved and displayed.  The user's ID is supplied via the <code>userid</code> parameter.  If no picture is defined for the user, a default avatar is displayed from <code>/images/no_avatar.gif</code>.</p>
<p>When <a href="#resize">resizing</a> a profile picture, the <a href="#resize-modes"><code>resizemode</code></a> parameter cannot be adjusted.  It will be <code>FitSquare</code> if only one dimension is provided, or if both height and width are equal (meaning that images which are not square will have white added on the narrow sides to create a square).  If both height and width are provided, the resize mode will be <code>Fill</code>, meaning that the image will stretch, without regard to aspect ratio, to the requested size.</p>
<h3 id="placeholder-mode">Placeholder Mode</h3>
<p>When using <code>mode=placeholder</code>, a placeholder image will be generated.  You must specify dimensions for the image, using <code>w</code> and <code>h</code> parameters, and also have the option to specify <code>text</code>, <code>color</code> and <code>backcolor</code> parameters.  If not supplied, the text will default to <code>{width}x{height}</code>, the text color will be <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.color.lightgray"><code>LightGray</code>, i.e. #D3D3D3</a>, and the background color will be <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.color.lightslategray"><code>LightSlateGray</code>, i.e. #778899</a>.  The two color parameters can use a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.knowncolor"><code>KnownColor</code></a> name, or a hexadecimal RGB representation (note that the <code>#</code> at the start of the hexadecimal color must be URL encoded on the URL as <code>%23</code>).</p>
<h3 id="examples">Examples</h3>
<table>
<thead>
<tr>
<th>URL</th>
<th>Image</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50</code></td>
<td><img src="https://www.dnnsoftware.com/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50" alt="200x50 placeholder image"></td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;text=banner</code></td>
<td><img src="https://www.dnnsoftware.com/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;text=banner" alt="200x50 placeholder image with &quot;banner&quot; text"></td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;color=BlueViolet</code></td>
<td><img src="https://www.dnnsoftware.com/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;color=BlueViolet" alt="200x50 placeholder image with blue-violet text and border"></td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;backcolor=orange</code></td>
<td><img src="https://www.dnnsoftware.com/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;backcolor=orange" alt="200x50 placeholder image with orange background"></td>
</tr>
<tr>
<td><code>/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;text=DNN%20Summit&amp;color=%231e355e&amp;backcolor=%23e77e3a</code></td>
<td><img src="https://www.dnnsoftware.com/DnnImageHandler.ashx?mode=placeholder&amp;w=200&amp;h=50&amp;text=DNN%20Summit&amp;color=%231e355e&amp;backcolor=%23e77e3a" alt="200x50 placeholder image with &quot;DNN Summit&quot; text"></td>
</tr>
</tbody>
</table>
<h2 id="resize">Resize</h2>
<p>One of the primary reasons someone might want to use the image handler is to resize images, and prevent users from downloading excessively large images (you may want to use <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset"><code>srcset</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture"><code>&lt;picture&gt;</code></a> to serve different sized based on the browser's viewport size).</p>
<p>To get started resizing, you can just add a <code>w</code> or <code>h</code> parameter to set the width and/or height.  You can adjust the behavior of the resizing by specifying a resize mode.</p>
<h2 id="resize-modes">Resize Modes</h2>
<p>There are four <a class="xref" href="../../../../api/DotNetNuke.Services.GeneratedImage.ImageResizeMode.html">resize modes</a> supported when resizing, specified via the <code>resizemode</code> parameter.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Crop</code></td>
<td>Removes parts of the image to ensure the resulting image is the correct size</td>
</tr>
<tr>
<td><code>Fill</code></td>
<td>Resizes the image without maintaining the aspect ratio, i.e. streches or squishes the image</td>
</tr>
<tr>
<td><code>Fit</code></td>
<td>Resizes the image while maintaining the aspect ratio, ensuring the image fits within the given dimensions</td>
</tr>
<tr>
<td><code>FitSquare</code></td>
<td>Resizes the image and centers it on a generated background (white by default)</td>
</tr>
</tbody>
</table>
<p>The color of the generated background can be specified via the <code>backcolor</code> parameter (documented in the <a href="#placeholder-mode">Placeholder Mode</a> section).  A border can also be added in this same color by specifying its width in the <code>border</code> parameter, e.g. <code>border=10</code></p>
<h2 id="filters">Filters</h2>
<p>You can also apply filters to the images</p>
<ul>
<li><a href="#greyscale-filter">Greyscale</a></li>
<li><a href="#invert-filter">Invert</a></li>
<li><a href="#contrast-filter">Contrast</a></li>
<li><a href="#gamma-filter">Gamma</a></li>
<li><a href="#brightness-filter">Brightness</a></li>
<li><a href="#rotateflip-filter">Rotate/Flip</a></li>
</ul>
<h3 id="greyscale-filter">Greyscale Filter</h3>
<p>Add the <code>&amp;greyscale=1</code> parameter to the URL to get the greyscale version of the image</p>
<h3 id="invert-filter">Invert Filter</h3>
<p>Add the <code>&amp;invert=1</code> parameter to the URL to invert the colors, i.e. get the &quot;negative&quot; of the image</p>
<h3 id="contrast-filter">Contrast Filter</h3>
<p>The contrast of the image can be adjusted, using values between <code>-100</code> and <code>100</code>, e.g. <code>&amp;contrast=-50</code></p>
<h3 id="gamma-filter">Gamma Filter</h3>
<p>The gamma value of the image can be adjusted, using values between <code>0.2</code> and <code>5.0</code>, e.g. <code>&amp;gamma=1</code></p>
<h3 id="brightness-filter">Brightness Filter</h3>
<p>The brightness of the image can be adjusted, using values between <code>-255</code> and <code>255</code>, e.g. <code>&amp;brightness=-75</code></p>
<h3 id="rotateflip-filter">Rotate/Flip Filter</h3>
<p>The image can be rotated and/or flipped using the <code>rotateflip</code> parameter.  The value for the parameter will be in the format <code>Rotate{degrees}Flip{axis}</code>.  The valid values for <code>degrees</code> are <code>None</code>, <code>90</code>, <code>180</code>, and <code>270</code>.  The valid values for <code>axis</code> are <code>None</code>, <code>X</code>, <code>Y</code>, and <code>XY</code>.  For example <code>&amp;rotateflip=RotateNoneFlipY</code>, <code>&amp;rotateflip=Rotate180FlipNone</code>, <code>&amp;rotateflip=Rotate270FlipXY</code>.</p>
<h2 id="custom-modes">Custom Modes</h2>
<p>The image handler is based on a project by Torsten Weggen, and he has a <a href="https://github.com/weggetor/BBImageHandler-8">collection of extensions</a> to the version built into DNN that add extra modes.  This project also serves as a collection of examples for how to create your own custom mode.  The project includes modes such as Database Image, Barcode, Thermometer, and Web Thumbnail.</p>
<p>Creating your own mode involes implementing a .NET class that inherits from <a class="xref" href="../../../../api/DotNetNuke.Services.GeneratedImage.ImageTransform.html"><code>DotNetNuke.Services.GeneratedImage.ImageTransform</code></a>, which primarily involves generating an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.image"><code>Image</code></a> value.  Public properties on the class are automatically able to by set via the query string.</p>
<div class="links" hidden=""><span><a href="https://www.dnnsoftware.com/community-blog/cid/155173/dnnimagehandler--hot-or-not-">DNN Blog: DnnImageHandler - hot or not ?</a></span><span><a href="https://www.dnnsoftware.com/community-blog/cid/155618/dnn-imagehandler">DNN Blog: DNN Imagehandler</a></span></div></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>by the community, for the community... <strong>#DNNCMS</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
    	document.dnndocs = {
    		algolia: function(selector) {
    			return {
    				apiKey: '28b61113e36d4775658a3e6eec04e94f',
    				indexName: 'dnnsoftware',
    				inputSelector: selector,
    				algoliaOptions: { 'facetFilters': [["tags:api","tags:docs"]] },
    				debug: false // Set debug to true if you want to inspect the dropdown
    			}	
    		}
    	};	
    	docsearch(document.dnndocs.algolia('input.docs-search'));  
    </script>
  </body>
</html>
