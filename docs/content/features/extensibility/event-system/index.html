<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Event System  -- DNN Docs</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Event System  -- DNN Docs">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
  	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="og:title" content="Event System -- DNN Docs">
    <meta property="og:image" content="../../../../images/dnn_docs_logo.png">
    <meta property="og:description" content="Event System -- DNN Docs">
    <meta property="og:url" content="https://dnndocs.com/content/features/extensibility/event-system/index.html">
    
    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-137422488-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-137422488-1');
    </script></head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../images/dnn_docs_logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="docs-search">
                <div class="form-group">
                  <input type="text" class="form-control docs-search" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container">
            <div class="hide-when-search pull-left" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
            <div class="pull-right">
              <ul class="nav nav-pills">
                <li role="presentation dropdown">
                  <a class="dropdown-toggle" id="shareMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <i class="glyphicon glyphicon-share"></i> Share
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="shareMenu">
                    <li><a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdnndocs.com%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.html&amp;text=Event%20System%20%7C%20DNN%20Docs%20%7C%20%23DNNCMS&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdnndocs.com%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.html" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdnndocs.com%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.html" target="_blank"><i class="fab fa-linkedin-in"></i> LinkedIn</a></li>
                    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdnndocs.com%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.html" target="_blank"><i class="fab fa-facebook-square"></i> Facebook</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="mailto:?subject=[Shared%20Article]%20Event%20System%20|%20DNN%20Docs&amp;body=Event%20System%20|%20DNN%20Docs%0A%0Ahttps%3A%2F%2Fdnndocs.com%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.html%0A%0A"><i class="fas fa-envelope"></i> Email</a></li>
                  </ul>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/issues/new?title=Feedback for Event System&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Document%20Details%0A%0A%E2%9A%A0%20*Do%20not%20edit%20this%20section.%20It%20is%20required%20for%20dnndocs.com%20%E2%9E%9F%20Core%20Team%20processing.*%0A%0A*%20Content%20Source%3A%20%5Bevent-system%5D(https%3A%2F%2Fgithub.com%2FDNNCommunity%2FDNNDocs%2Fblob%2Fmaster%2Fcontent%2Ffeatures%2Fextensibility%2Fevent-system%2Findex.md%2F%23L1)" target="_blank"><i class="glyphicon glyphicon-comment"></i> Feedback</a>
                </li>
                <li role="presentation">
                  <a href="https://github.com/DNNCommunity/DNNDocs/blob/master/content/features/extensibility/event-system/index.md/#L1" target="_blank"><i class="glyphicon glyphicon-new-window"></i> Improve this Doc</a>
                </li>
              </ul>
            </div>
          </div>
        </div>      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="event-system">
<h1 id="event-system">Event System</h1>
<div class="page-version">
    
    
</div>
<div class="page-stats row visible-xs">
    <div class="pull-left"> &bull; 8 minutes  to read</div>
</div>
<div class="page-stats row visible-sm visible-md visible-lg visible-xl">
    <span class="pull-left">&nbsp;&bull; 8 minutes  to read</span>
</div>

<h2 id="what-is-the-event-system">What is the Event System?</h2>
<p>Using the core event system, you can attach custom C# or VB code, called Event Listeners/Event Handlers, to hook into various core events that happen throughout DNN Platform.</p>
<p>The areas within DNN that you can hook into are:</p>
<ul>
<li>Theme (Skin) Events</li>
<li>Container Events</li>
<li>Page (Tab) Events</li>
<li>Module Events</li>
<li>User Events</li>
<li>User Relationship Events</li>
<li>File Events</li>
<li>Folder Events</li>
<li>Role Events</li>
<li>Portal Events</li>
</ul>
<h2 id="skin-theme-events">Skin (Theme) Events</h2>
<p>Skin Events happen during the server-side skin load lifecycle of any page when it is being accessed.</p>
<p>You can attach Skin Event Listeners to the following Skin Events:</p>
<ul>
<li>OnSkinInit</li>
<li>OnSkinLoad</li>
<li>OnSkinPreload</li>
<li>OnSkinUnload</li>
</ul>
<p>For each type of Skin Event Listener, there are a minimum of two parts:</p>
<ol>
<li>Registering the Skin Event Listener</li>
<li>Implementing the Skin Event Listener</li>
</ol>
<p>The following example shows how to create an Event Listener for the OnSkinLoad event.</p>
<p>Note: The steps to create the other Skin Event Listeners are the same except your will change the SkinEventType in the sample code below.</p>
<p>To attach code to the Skin Event, you must first register your Skin Event Listener. In this example we will register our Skin Event Listener when DNN starts loading for the first time.</p>
<p>There are several ways to accomplish this, the following example registers the events within a Web API route mapper since that code loads when DNN starts up.</p>
<pre><code>using DotNetNuke.Application;
using DotNetNuke.UI.Skins.EventListeners;
using DotNetNuke.Web.Api;

namespace SampleProject.DnnEvents.SkinEvents
{
    class RouteMapper : IServiceRouteMapper
    {

        public void RegisterRoutes(IMapRoute mapRouteManager)
        {

            // Add Your Web API Routes Here

            // Register Your Skin Events

            DotNetNukeContext.Current.SkinEventListeners.Add(new DotNetNuke.UI.Skins.EventListeners.SkinEventListener(SkinEventType.OnSkinLoad, SampleSkinEventListener.OnSkinLoad));

        }

    }
}
</code></pre>
<p>In the above example, we are registering a Skin Event Listener called <strong>SampleSkinEventListener.OnSkinLoad</strong>. This is a static class and method that defines what code will run when the Skin OnLoad event triggers.</p>
<p>Since all pages in a DNN website have a skin/theme, we can assume that this code will run on page load for every page within a DNN website.</p>
<p>The following code is the Skin Event Listener implementation.</p>
<pre><code>using System;
using DotNetNuke.Services.Exceptions;
using DotNetNuke.UI.Skins.EventListeners;

namespace SampleProject.DnnEvents.SkinEvents
{
    public static class SampleSkinEventListener
    {
        public static void OnSkinLoad(object sender, SkinEventArgs e)
        {
            try
            {
               // Your Code Here
         
            }
            catch (Exception exception)
            {
                Exceptions.LogException(exception);
            }
        }
    }
}
</code></pre>
<h2 id="container-events">Container Events</h2>
<p>Container Events happen during the container load lifecycle of every container on a page when a page is being accessed.</p>
<p>You can attach code to the following Container events:</p>
<ul>
<li>OnContainerInit</li>
<li>OnContainerLoad</li>
<li>OnContainerPreRender</li>
<li>OnContainerUnLoad</li>
</ul>
<p>For each type of Container Event Listener, there are a minimum of two parts:</p>
<ol>
<li>Registering the Container Event Listener</li>
<li>Implementing the Container Event Listener</li>
</ol>
<p>The following example shows how to create an Event Listener for the OnContainer Load event.</p>
<p>Note: The steps to create the other Container Event Listeners are the same except your will change the ContainerEventType in the sample code below.</p>
<p>To attach code to the Container Event, you must first register your Container Event Listener. In this example we will register our Container Event Listener when DNN starts loading for the first time.</p>
<p>There are several ways to accomplish this, the following example registers the events within a Web API route mapper since that code loads when DNN starts up.</p>
<pre><code>using DotNetNuke.Application;
using DotNetNuke.UI.Containers.EventListeners;
using DotNetNuke.Web.Api;

namespace SampleProject.DnnEvents.ContainerEvents
{
    class RouteMapper : IServiceRouteMapper
    {

        public void RegisterRoutes(IMapRoute mapRouteManager)
        {

            // Add Your Web API Routes Here

            // Register Your Skin Events

            DotNetNukeContext.Current.ContainerEventListeners.Add(new DotNetNuke.UI.Containers.EventListeners.ContainerEventListener(ContainerEventType.OnContainerLoad, SampleContainerEventListener.OnContainerLoad));


        }

    }
}
</code></pre>
<p>In the above example, we are registering a Skin Event Listener called <strong>SampleContainerEventListener.OnContainerLoad</strong>. This is a static class and method that defines what code will run when the Container OnLoad event triggers.</p>
<p>Since all modules on a page in a DNN website are wrapped in a container, we can assume that this code will run when every container loads on every page within a DNN website.</p>
<p>The following code is the Container Event Listener implementation.</p>
<pre><code>using System;
using DotNetNuke.Services.Exceptions;
using DotNetNuke.UI.Containers.EventListeners;

namespace SampleProject.DnnEvents.ContainerEvents
{

    public static class SampleContainerEventListener
    {

        public static void OnContainerLoad(object sender, ContainerEventArgs e)
        {

            try
            {

                // Your Code Here

                
            }
            catch (Exception exception)
            {

                Exceptions.LogException(exception);

            }

        }

    }

}
</code></pre>
<h2 id="portal-events">Portal Events</h2>
<p>Coming soon.</p>
<h2 id="page-tab-events">Page (Tab) Events</h2>
<p>Tab events happen during various times within the lifecycle of a Tab/Page within a DNN website.</p>
<p>You can attach code to the following Tab events:</p>
<ul>
<li>TabCreated</li>
<li>TabUpdated</li>
<li>TabRemoved (deleted from page manager)</li>
<li>TabDeleted (deleted from page recycle bin)</li>
<li>TabRestored (restored from the page recycle bin)</li>
<li>TabMarkedAsPublished</li>
</ul>
<p>Tab Events are registered by decorating a class with <code>[Export(typeof(ITabEventHandler))]</code> and implementing the <a class="xref" href="../../../../api/DotNetNuke.Entities.Tabs.Actions.ITabEventHandler.html"><code>ITabEventHandler</code></a> interface.</p>
<p>DNN will automatically register your Tab Event Handler when the DNN website loads.</p>
<p>The following example implements a complete Tab Event Handler with the event options stubbed out.</p>
<pre><code>    using System.ComponentModel.Composition;
    using DotNetNuke.Entities.Tabs.Actions;
    
    
   namespace SampleProject.DnnEvents.TabEvents
    {
    
        [Export(typeof(ITabEventHandler))]
        public class SampleTabEventHandler : ITabEventHandler
        {
            public void TabCreated(object sender, TabEventArgs args)
            {
                
            }
            
            public void TabUpdated(object sender, TabEventArgs args)
            {
                
            }
    
            public void TabRemoved(object sender, TabEventArgs args)
            {
    
            }
    
            public void TabDeleted(object sender, TabEventArgs args)
            {
               
            }
    
            public void TabRestored(object sender, TabEventArgs args)
            {
                
            }
    
            public void TabMarkedAsPublished(object sender, TabEventArgs args)
            {
    
            }
    
        }
    
    }
</code></pre>
<h2 id="user-events">User Events</h2>
<p>User Events happen during various times within the lifecycle of a User account within a DNN website.</p>
<p>You can attach code to the following User events:</p>
<ul>
<li>UserAuthenticated</li>
<li>UserCreated</li>
<li>UsserRemoved (deleted from user manager)</li>
<li>UserDeleted (deleted from recycle bin)</li>
<li>UserApproved (restored from the page recycle bin)</li>
<li>UserUpdated</li>
</ul>
<p>User Events are registered by decorating a class with <code>[Export(typeof(IUserEventHandlers))]</code> and implementing the <a class="xref" href="../../../../api/DotNetNuke.Entities.Users.IUserEventHandlers.html"><code>IUserEventHandlers</code></a> interface.</p>
<p>DNN will automatically register your Tab Event Handler when the DNN website loads.</p>
<p>The following example implements a complete Tab Event Handler with the event options stubbed out.</p>
<pre><code>using System.ComponentModel.Composition;
using DotNetNuke.Entities.Users;

namespace SampleProject.DnnEvents.UserEvents
{

    [Export(typeof(IUserEventHandlers))]
    public class SampleUserEventHandler : IUserEventHandlers
    {
    
        public void UserAuthenticated(object sender, UserEventArgs args)
        {

        }

        public void UserCreated(object sender, UserEventArgs args)
        {

        }

        public void UserRemoved(object sender, UserEventArgs args)
        {
            
        }

        public void UserDeleted(object sender, UserEventArgs args)
        {
        
        }

        public void UserApproved(object sender, UserEventArgs args)
        {

        }

        public void UserUpdated(object sender, UpdateUserEventArgs args)
        {
        
        }
    }

}
</code></pre>
<h2 id="module-events">Module Events</h2>
<p>Coming soon.</p>
<h2 id="user-relationship-events">User Relationship Events</h2>
<p>Coming soon.</p>
<h2 id="file-events">File Events</h2>
<p>Coming soon.</p>
<h2 id="folder-events">Folder Events</h2>
<p>Coming soon.</p>
<h2 id="role-events">Role Events</h2>
<p>Coming soon.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>by the community, for the community... <strong>#DNNCMS</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
    	document.dnndocs = {
    		algolia: function(selector) {
    			return {
    				apiKey: '28b61113e36d4775658a3e6eec04e94f',
    				indexName: 'dnnsoftware',
    				inputSelector: selector,
    				algoliaOptions: { 'facetFilters': [["tags:api","tags:docs"]] },
    				debug: false // Set debug to true if you want to inspect the dropdown
    			}	
    		}
    	};	
    	docsearch(document.dnndocs.algolia('input.docs-search'));  
    </script>
  </body>
</html>
